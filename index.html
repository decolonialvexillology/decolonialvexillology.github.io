<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" type="text/css" href="https://decolonialvexillology.github.io/style.css">
    
    <!-- Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <!-- Material icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
      .material-symbols-outlined {
        font-variation-settings:
        'FILL' 1,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
      }
    </style>
    
    <title>Decolonial Vexillology</title>
  </head>
  <body>
    <nav>
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"><span class="material-symbols-outlined">close</span></a>
        <a href="#" onclick="closeNav()">Home</a>
        <a href="#" onclick="closeNav()">About</a>
      </div>
      <script>
        /* Set the width of the side navigation to 250px */
        function openNav() {
          document.getElementById("mySidenav").style.width = "100%";
        }

        /* Set the width of the side navigation to 0 */
        function closeNav() {
          document.getElementById("mySidenav").style.width = "0";
        }
      </script>
    </nav>
    <header>
      <h1><a onclick="openNav()"><span class="material-symbols-outlined">menu</span></a>&nbsp;&nbsp;<a href="#">Decolonial Vexillology</a><span class="material-symbols-outlined settings-button">settings</span></h1>
    </header>
    <main>
      <label for="colorpicker">Background colour:</label>
      <input id="colorpicker" type="color" onchange="changecolor(this)" value="#ffffff">
    </main>
    <footer>
      <hr>
      <p>Decolonial Vexillology is &copy; Miro Jones 2024-<script>document.write( new Date().getFullYear() );</script>. All decolonised flags are released into the public domain under <a href="https://creativecommons.org/publicdomain/zero/1.0/?ref=chooser-v1">CC0 <img style="height:20px!important;margin-left:3px;vertical-align:text-bottom;" src="https://decolonialvexillology.github.io/images/cc.svg" alt="&#127341;"><img style="height:20px!important;margin-left:3px;vertical-align:text-bottom;" src="https://decolonialvexillology.github.io/images/zero.svg" alt="&#127245;"></a>.</p>
    </footer>
    <script>
      function changecolor(el) {
        const newBackgroundColor = el.value;
        document.body.style.backgroundColor = newBackgroundColor;
    
        // Calculate the relative luminance of the background color
        const luminance = calculateLuminance(newBackgroundColor);

        // Set the text color to black for bright backgrounds, white for dark backgrounds
        const newTextColor = luminance > 0.5 ? 'black' : 'white';
        document.body.style.color = newTextColor;
      }

      // Function to calculate luminance - replace this with your preferred function
      // This is a basic example, more sophisticated luminance calculations exist
      function calculateLuminance(color) {
        // Convert hex color to RGB (replace with your preferred conversion function)
        const rgb = color.substring(1).match(/.{2}/g).map(val => parseInt(val, 16));
  
        // Calculate relative luminance (basic approximation)
        const lum = 0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2];
        return lum / 255;
      }
    </script>
  </body>
</html>
